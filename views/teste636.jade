doctype html
html
  head
    meta(charset='UTF-8')
    title Basic Usage
    link(rel='stylesheet', href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic')
    link(rel='stylesheet prefetch', href='https://cdn.gitcdn.link/cdn/angular/bower-material/v1.1.4/angular-material.css')
    link(rel='stylesheet prefetch', href='https://material.angularjs.org/1.1.4/docs.css')
  body
    div(ng-controller='DemoCtrl', layout='column', ng-cloak='', ng-app='MyApp')
      md-content.md-padding
        md-autocomplete(md-selected-item='selectedItem', md-search-text='searchText', md-items='item in query(searchText)')
          md-item-template
            span(md-highlight-text='searchText') {{item.nome}}

    script(src='https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.js')
    script(src='https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.min.js')
    script(src='https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-route.min.js')
    script(src='https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-aria.min.js')
    script(src='https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js')
    script(src='https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-114/svg-assets-cache.js')
    script(src='https://cdn.gitcdn.link/cdn/angular/bower-material/v1.1.4/angular-material.js')
    script.
      var app = angular.module('MyApp', ["ngMaterial"]);
      app.controller('DemoCtrl', function($http,$scope) {
        $scope.query = function(searchText) {
          return $http.get('/teste/cis', {
            params: {
              txt: searchText
            }
          }).then(function(data) {
              // Map the response object to the data object.
              console.dir(data.data)
              return data.data;
            });
        };
      });

      /* app.get('/teste/cis', teste.cis);

        "use strict";
        var settings = require("../settings");
        var sql = require('mssql');

        exports.index = function (req, res) {
            res.render('teste');
        };

        exports.cis = function (req, res) {
            var txt = req.query.txt;
            sql.connect(settings.dbConfig).then(function() {
                new sql.Request()
                .query("SELECT top 50 CODUSUARIO as codigo, LOGIN as nome FROM USUARIOS WHERE LOGIN like '"+txt+"%' ORDER BY LOGIN").then(function(rs) {
                return res.json(rs);
                }).catch(function(err) {
                    console.dir(err);
                });
            });    
        };



      */


  